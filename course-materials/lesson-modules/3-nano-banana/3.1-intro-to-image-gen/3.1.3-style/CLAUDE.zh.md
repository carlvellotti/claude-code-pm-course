# 模块 3.1.3: 一致性与风格

欢迎回来！你已经看到了如何生成图像并对其进行迭代。现在让我们更上一层楼。

本模块是关于一致性和风格的。结束时，你将知道如何像专业人士一样编写提示词，使用参考图像来获得特定的外观，并生成变体以探索不同的方向。

停止：准备好开始了吗？

用户：准备好了

---

## 第 1 部分：提示词黄金法则

Google 发布了 Gemini 图像生成的官方提示指南。他们称之为“黄金法则” - 一共有四条：

**法则 1：编辑，不要重来 (Edit, Don't Re-roll)** - 如果图像有 80% 是正确的，要求具体的更改而不是从头开始。我们在 3.1.2 中涵盖了这一点。

**法则 2：使用自然语言和完整句子 (Use Natural Language & Full Sentences)** - 像给人类艺术家下简报一样给它下简报，而不是“标签汤 (tag soup)”。你会在网上看到 JSON 提示词库，但那是使用 Gemini 的过时方式。它现在是一个思维模型 - 不需要僵化的结构。

**法则 3：具体且具有描述性 (Be Specific and Descriptive)** - 定义主体、设置、光照、情绪、纹理、材料。深入细节。

**法则 4：提供上下文 (Provide Context)** - 告诉它“为什么”或“给谁看”，以便思维模型做出更明智的创意决策。

停止：我们将逐一涵盖它们。目前为止有道理吗？

用户：是的

---

我们在上一个模块中已经涵盖了法则 1 - 它之所以有效，是因为 Gemini 是一个思维模型，继续对话给了它更多的工作上下文。

现在让我们看看其他三条法则的实际应用。对于每一条，我将同时生成两个版本，这样你就可以并排看到差异。

你来挑选概念 - 我来展示技术。

停止：准备好看到这些实际应用了吗？

用户：是的

---

### 法则 2：自然语言 vs 标签汤

让我们从法则 2 开始。

“标签汤”是在 Midjourney 和 Stable Diffusion 等早期图像模型中流行的提示风格 - 逗号分隔的关键词堆砌在一起：

```
cat, orange tabby, sitting, window, sunlight, cozy, warm lighting, 8k, hyperrealistic, bokeh, soft focus
```

自然语言就是... 正常写作：

```
An orange tabby cat sitting on a windowsill, bathed in warm afternoon sunlight. The scene feels cozy and intimate, with soft focus on the background.
```

两者都可行，但 Gemini 是在自然语言上训练的。让我们看看区别。

停止：你想用什么概念来演示这个？给我一个主体或场景 - 任何你想要的。

用户：[提供概念]

---

完美。我将向你展示标签汤和自然语言之间的区别。

我现在正在生成两个版本，这样我们可以直接比较它们。

行动：并行生成两张图像：
- 标签汤版本：逗号分隔的关键词，没有句子
- 自然语言版本：描述同一场景的完整句子

行动：用描述性名称保存两张图像

这是我为每个使用的提示词：
- **标签汤：** [分享标签汤提示词]
- **自然语言：** [分享自然语言提示词]

检查你的 `outputs/` 文件夹中的两张图像：
- `[concept]_tag_soup.png`
- `[concept]_natural_language.png`

停止：看一看这两个 - 你注意到了什么？

用户：[描述观察结果]

---

你可能会注意到它们实际上非常相似。这某种程度上就是重点。

两种方法都能产生好的结果。但自然语言只是... 更容易。你不必记住特殊的语法或担心格式。只需像跟设计师说话一样描述你想要的。记住，我也可以随时帮你写这些提示词。

停止：准备好下一条法则了吗？

用户：是的

---

### 法则 3：具体且具有描述性

这个很有趣。法则 3 是关于定义主体、设置、光照、情绪、纹理、材料 - 所有这一切。

关于 Gemini 的事情是：它可以处理大量的描述。比如，比你想象的多得多。即使有非常详细的提示词，它也出奇地一致。

不要有所保留。如果你不确定如何添加更多细节，只需问我 - 我可以帮你扩展你的提示词。

停止：你想为这个演示创作什么？给我一个新的概念。

用户：[提供概念]

---

很好的选择。我将展示模糊 vs 详细。

对于模糊版本，我将使用简单的单句描述。对于详细版本，我将全力以赴 - 光照、纹理、氛围、材料、构图，所有一切。

行动：并行生成两张图像：
- 模糊提示词：简单、极简的描述
- 详细提示词：包含光照、情绪、纹理、材料、氛围、构图的广泛描述

行动：用描述性名称保存两张图像

这是我使用的：
- **模糊：** [分享模糊提示词]
- **详细：** [分享详细提示词 - 向他们展示你写的细节有多疯狂]

行动：你自己查看图像并注意差异

检查你的 `outputs/` 文件夹：
- `[concept]_vague.png`
- `[concept]_detailed.png`

停止：比较它们 - 看到细节带来的差异了吗？

用户：[回应]

---

详细版本给了 Gemini 更多的工作素材。最酷的是 - 它实际上贯彻了所有这些细节。你指定的光照？它在那里。纹理？在那里。

不要害怕变得极其具体。如果你卡住了，只需让我帮你扩展提示词。

停止：准备好最后一条法则了吗？

用户：是的

---

### 法则 4：提供上下文

这一条是关于告诉 Gemini “为什么”或“给谁看”。

上下文帮助模型理解目的并做出适当的创意选择。“为儿童读物”的肖像与“为奢侈品牌广告”的肖像看起来非常不同。

停止：你想创作什么？我会给你一些我们可以添加的上下文选项。

用户：[提供概念]

---

不错。这里有一些适合该概念的上下文选项：

行动：根据用户的概念动态生成合理的上下文选项（例如，“为儿童读物插图”，“为奢侈品牌广告”，“为科技创业公司落地页”，“为复古海报设计”）

停止：挑选其中一个，或者建议你自己的上下文。

用户：[挑选上下文]

---

我将生成一个没有上下文的和一个带有你选择的上下文的。

行动：并行生成两张图像：
- 无上下文：仅主体描述
- 有上下文：相同主体加上“为什么” / “给谁看”

行动：用描述性名称保存两张图像

行动：审查两张图像并识别具体差异

这是我注意到的：[分享关于上下文如何影响结果的观察 - 具体说明什么改变了]

检查你的 `outputs/` 文件夹：
- `[concept]_no_context.png`
- `[concept]_with_context.png`

停止：看到上下文如何改变了创意方向吗？

用户：[回应]

---

这就是黄金法则的总结：
1. **编辑，不要重来** - 在有效的基础上迭代
2. **使用自然语言** - 像设计师一样跟它说话
3. **具体且具有描述性** - Gemini 可以处理细节
4. **提供上下文** - 告诉它“为什么”

在你的所有图像生成工作中记住这些。它们会带来真正的改变。

停止：准备好进入参考图像了吗？

用户：是的

---

## 第 2 部分：参考图像

现在我们要进入真正强大的部分了。

你可以为 Gemini 提供参考图像来指导风格或主体。这对于品牌一致性、重新创建特定外观或让角色看起来正确非常重要。

让我们从单个风格参考开始。

行动：读取 `style-reference.jpeg` 文件以了解其视觉风格

行动：告诉用户在哪里找到 `style-reference.jpeg` 以便他们可以查看

这是一个史诗般的篮球落地页 - 大胆、动态、高能量的设计。很棒的视觉风格。

停止：你想让我用这种风格创作什么？给我一个完全不同的主体。

用户：[提供主体]

---

行动：使用 `style-reference.jpeg` 作为风格参考，结合用户的主体生成图像

行动：用描述性名称保存

检查 `outputs/` 查看你的风格化图像。

停止：看一看 - 看到它是如何捕捉那种大胆、动态的视觉风格但使用你的主体的吗？

用户：[回应]

---

这对于品牌一致性非常有用。有喜欢的风格？只需把它作为参考输入进去。

现在让我们尝试更高级的东西 - 多个参考图像。

我们将创建一个名为“APEX CAT”的史诗级猫粮落地页，主角是 Carl 的猫 Winter 和 Piper。

行动：告诉用户哪里可以找到猫的照片（Winter 1-3, Piper 1-2）

停止：你找到 Winter 和 Piper 了吗？

用户：[确认]

---

我将结合：
- 用于那种大胆、动态视觉风格的 `style-reference.jpeg`
- Winter 的照片（黑色的毛茸茸的猫）- 所有 3 张参考照片
- Piper 的照片（灰色/奶油色的毛茸茸的猫）- 两张参考照片

专业提示：提供同一主体的多张参考照片会产生更好的结果。模型可以从不同角度和光照条件理解主体，这有助于更准确地表现它们。

行动：生成一个结合了风格参考 + 所有 5 张猫照片的“APEX CAT”落地页

行动：用描述性名称保存，如 `apex_cat_landing_page.png`

检查你的 `outputs/` 文件夹查看结果。

停止：你觉得怎么样？看到它是如何在那种落地页风格中捕捉到两只猫的样貌的吗？

用户：[回应]

---

这就是参考图像的力量：
- **单个参考** 用于风格
- **多个参考** 用于更好的主体准确性
- **混合搭配** - 来自一张图像的风格，来自其他图像的主体

停止：准备好进入第 3 部分 - 网格和变体了吗？

用户：是的

---

## 第 3 部分：网格和变体

有时你需要同一主体的多个视图或变体。网格非常适合这个 - 角色表、精灵表、产品角度，随你叫。

让我们使用 Winter 创建一个 3x3 视频游戏角色精灵表。

停止：继续，请我使用 Winter 的照片生成一个角色精灵表。

用户：使用 Winter 的照片生成一个角色精灵表

---

行动：使用 Winter 参考照片生成一个 3x3 网格精灵表
- Winter 作为视频游戏角色的 9 种不同姿势/动作
- 所有 9 个单元格风格一致

行动：保存为 `winter_sprite_sheet.png`

检查你的 `outputs/` 文件夹查看精灵表。

这对于一致性非常棒 - 相同的角色，不同的角度和姿势，都匹配相同的设计语言。

停止：看到所有 9 个姿势如何保持相同的角色设计吗？

用户：[回应]

---

让我们再试一个网格 - 这个有点元 (meta)。

我们刚刚学习了提示词黄金法则。如果我们用图像生成来创建关于这些法则的教学幻灯片会怎么样？

停止：请我生成一个关于黄金法则的 8 页幻灯片演示。

用户：生成一个关于黄金法则的 8 页幻灯片演示

---

行动：生成一个教授提示词黄金法则的 2x4 网格（8 张幻灯片）
- 幻灯片 1：标题幻灯片 - “图像提示词黄金法则”
- 幻灯片 2：概览 - 4 条法则一览
- 幻灯片 3-6：每条法则一张幻灯片，配有视觉示例
- 幻灯片 7：快速参考备忘单
- 幻灯片 8：结束幻灯片“现在去创造吧！”
- 所有幻灯片视觉风格一致

行动：保存为 `golden_rules_slides.png`

检查你的 `outputs/` 文件夹查看幻灯片。

看到我们做了什么吗？我们使用工具创建了关于工具的教学内容。网格对于演示文稿、教程或任何需要视觉一致性的内容都非常有用。

停止：相当元，对吧？准备好继续变体了吗？

用户：[回应]

---

现在让我们谈谈变体。

这里有一件重要的事情：任何 LLM 都有固有的随机性，这在图像生成中尤其如此。即使使用完全相同的提示词，每次你也会得到不同的结果。

你可以把这当作一个特性，而不是 bug。

不要生成一张图像并希望它是对的，而是用相同的提示词生成 2-3 个变体。然后挑选你最喜欢的并在那个基础上迭代。

停止：从我们早期的演示中挑选任何你想进一步探索的概念。如果你需要提醒，可以查看 `outputs/` 文件夹。

用户：[挑选概念]

---

行动：使用 **相同** 的提示词为用户选择的概念生成 3 个变体
- 在每次生成前调用 new_session() 以确保新鲜的结果
- 使用相同的提示词来演示自然变异

行动：保存为 `[concept]_variant_1.png`, `[concept]_variant_2.png`, `[concept]_variant_3.png`

检查你的 `outputs/` 文件夹 - 你应该看到来自同一提示词的三个不同版本。

停止：你最喜欢哪个变体？

用户：[挑选最喜欢的]

---

很好的选择。现在我们可以朝着那个特定的方向迭代。

这就是工作流：生成变体，挑选最好的，然后改进。

停止：你想对你选择的变体更改或增强什么？

用户：[提供反馈]

---

行动：继续会话，根据用户反馈改进所选变体

行动：保存改进后的版本

这是完整的创意工作流：
1. **生成变体** 以探索方向
2. **挑选你最喜欢的**
3. **用具体反馈迭代**

停止：看到那个工作流如何给你更多对创意方向的控制了吗？

用户：[回应]

---

## 总结

干得漂亮！让我们回顾一下你学到了什么：

**黄金法则：**
- 编辑，不要重来
- 使用自然语言
- 具体且具有描述性
- 提供上下文

**参考图像：**
- 单个参考用于风格
- 多个参考用于更好的主体准确性
- 混合搭配风格和主体参考

**网格和变体：**
- 网格用于跨姿势/角度的一致性
- 变体用于探索方向，然后对最好的进行迭代

停止：在我们在继续之前有什么问题吗？

用户：[有问题或准备继续]

---

在下一个模块中，我们将建立一个风格数据库，这样你就可以保存和重用你最喜欢的风格。你将学习如何解构现有图像并建立你自己的创意工具包。

停止：当你准备好进入模块 3.1.4 时告诉我

用户：准备好了

运行 `/start-3-1-4` 继续。

---

## 给 Claude 的重要提示

在运行此模块时：

1. **描述性文件名** - 保存输出时始终使用有意义的名称（例如 `coffee_shop_warm_light.png` 而不仅仅是序列号）

2. **分享你的提示词** - 在生成对比图像时，始终向用户展示你使用了什么提示词，以便他们可以从技术中学习

3. **自己查看图像** - 对于需要你评论差异的演示，实际上要看生成的图像并提供具体的观察

4. **动态上下文选项** - 当为法则 4 提供上下文选项时，生成对用户特定概念有意义的选项

5. **猫照片位置** - 猫照片（Winter 1-3, Piper 1-2）和 style-reference.jpeg 在模块文件夹中。告诉用户确切路径。

6. **变体工作流** - 生成变体时，每次使用相同的提示词以演示自然随机性

7. **打开图像** - 如果用户在查找图像时遇到困难，主动提出使用 `open [path]` (Mac) 或 `start [path]` (Windows) 为他们打开

## 成功标准

当满足以下条件时，模块完成：
- [ ] 用户已经看到解释的所有 4 条黄金法则
- [ ] 用户已经完成了 3 个对比演示（标签汤 vs 自然语言，模糊 vs 详细，无上下文 vs 有上下文）
- [ ] 用户已经使用了单个风格参考
- [ ] 用户已经看到了多图像 APEX CAT 演示
- [ ] 用户已经生成了网格/精灵表
- [ ] 用户已经生成了变体并对他们最喜欢的进行了迭代
- [ ] 用户被引导至 `/start-3-1-4`
