---
title: "2.2: 分析数据"
description: "使用 AI 分析的数据驱动产品决策。使用 Claude Code 分析漏斗、估算 ROI、细分 A/B 测试，并做出发布/终止决策。"
keywords: '产品分析, 数据分析, A/B 测试, 产品指标, 漏斗分析, ROI 计算'
---

## 2.2: 分析数据

 - **完成时间：** 60-75 分钟
 - **先决条件：** 模块 2.1 (撰写 PRD)，对 CSV 文件和产品指标的基本了解


> **在 Claude Code 中开始此模块：** 运行 `/start-2-2` 以启动交互式体验。

## 📖 概览

模块 2.2 教授数据驱动功能开发的完整 PM 工作流：通过数据分析发现问题，在构建之前估算业务影响，以及分析实验结果以做出发布/终止决策。

**关键要点：** 永远不要止步于顶层指标 —— 始终按目标客户细分，检查质量优于数量，并寻找预测长期成功的领先指标。


## 🎯 三阶段工作流

| 阶段 | 目的 | 交付物 |
|-------|---------|-------------|
| **发现** | 用数据发现问题 (漏斗 + 调查) | `problem-analysis.md` 包含定量和定性证据 |
| **影响估算** | 建立 ROI 模型以证明工程投资的合理性 | `impact-estimate.md` 和 `roi-scenarios.md` 包含 3 个场景 |
| **实验分析** | 分析 A/B 测试结果，超越顶层指标 | `experiment-readout.md` 包含发布/迭代/终止建议 |


## 📊 影响估算框架

### 公式

```
影响 = 受影响用户数 × 当前行动率 × 预期提升 × 每次行动价值
```

### 组件

**受影响用户数**
- 有多少用户会看到此功能？
- 考虑逐步推出 (并不总是 100%)
- 示例：5,000 注册/月 × 70% 看到功能 = 3,500 受影响用户

**当前行动率**
- 目前有多少 % 采取所需行动？
- 从分析工具 (Mixpanel, Amplitude) 获取
- 示例：45% 激活率 (2,025/4,500 完成第一个任务)

**预期提升**
- 该功能将提高多少比率？
- 来源：您发布的类似功能、竞争对手基准、用户研究、专家判断
- 示例：调查显示 60% 因“需要示例”而流失。保守估计恢复 30% → 估算 13pp 提升 (45% → 58%)

**每次行动价值**
- 每个增量行动值多少钱？
- 对于激活：LTV × 转化率
- 对于留存：延长的 LTV
- 对于病毒式：邀请接受 × 激活 × 转化 × LTV
- 示例：激活用户 → 60% 转化 × $12/月 × 24 个月 = $172.80 每次激活的 LTV

### 三场景方法

始终使用悲观、现实和乐观场景对不确定性进行建模：

| 场景 | 采用率 | 提升 | 用例 |
|----------|----------|------|----------|
| **悲观** (20th 百分位) | 30% | 45% → 50% | 最低预期影响 |
| **现实** (50th 百分位) | 70% | 45% → 58% | 最可能的情况 |
| **乐观** (80th 百分位) | 90% | 45% → 62% + 留存提升 | 最佳情况 |

**向领导层展示所有三个**，以便他们了解结果范围并能做出明智的押注。


## 🔬 实验分析框架

### 分析层级

**1. 顶层指标**
```
计算控制组和治疗组的总体激活率
```
- 总体影响的快速快照
- 不足以做决策

**2. 统计显著性**
```
计算控制组和治疗组之间的统计显著性
```
- p < 0.05: 统计显著 (这是随机的几率 < 5%)
- 95% CI: 效应大小的合理范围
- 宽 CI = 高不确定性，即使 p < 0.05

**3. 细分分析**
```
按 company_size 细分实验结果并计算每个细分的激活率
```
- 功能对不同用户类型的作用不同
- 顶层平均值可能掩盖细分市场的胜利
- 在决定之前始终按目标客户细分

**4. 质量指标**
```
在激活用户中，计算两个队列的第 1 周留存率
```
- 激活率 = 有多少 用户激活
- 留存率 = 这些是否是 好的 激活
- 检查：第 1 周留存率、参与度指标、长期留存率

**5. 领先指标**
```
比较队列之间的模板使用率和邀请率
```
- 功能采用：用户是否使用新功能？
- 病毒式指标：用户是否邀请队友？
- 参与深度：用户是否使用高级功能？
- 领先指标预测未来成功


## 💼 Claude Code 数据分析

### Claude 能做什么

**直接读取 CSV 文件：**
```
读取 activation-funnel-q4.csv 并计算每一步的流失率
```

**即时处理数千行：**
```
分析 onboarding-experiment-results.csv 中的 8,000 行并按公司规模细分激活率
```

**建立 ROI 模型：**
```
使用 impact-estimation-framework.md 中的框架建立影响估算模型
```

**运行统计分析：**
```
计算控制组和治疗组之间的统计显著性，包括 p 值和置信区间
```

**交叉引用数据源：**
```
分析来自 activation-funnel-q4.csv 的漏斗数据并与 user-survey-responses.csv 中的用户反馈相关联
```

### 示例 CSV 结构

**漏斗数据 (activation-funnel-q4.csv):**
```csv
step,users_entered,users_completed,completion_rate,median_time_to_complete
Signup,10000,10000,1.0,0
First Task Created,10000,7200,0.72,18
First Task Completed,7200,2880,0.40,45
Invite Sent,2880,1440,0.50,24
```

**实验数据 (onboarding-experiment-results.csv):**
```csv
user_id,cohort,company_size,completed_first_task,invited_teammate,tasks_completed_week_1
control_user_0001,control,5-20,True,False,4
control_user_0002,control,5-20,False,False,0
treatment_user_0001,treatment,5-20,True,True,8
```

Claude 读取这些并呈现带有洞察的格式化表格。


## 💡 现实世界示例

### 发现：停滞的激活率

**情况：** 激活率在 45% 停滞了 6 个月。

**分析工作流：**
1. `读取 activation-funnel-q4.csv 并找到最大的流失点` → 任务完成处流失 60%
2. `分析 user-survey-responses.csv 并提取主要抱怨` → 需要示例/模板
3. 交叉引用：流失与调查反馈相关
4. 综合：创建包含定量和定性证据的 `problem-analysis.md`

**结果：** 有数据支持的清晰问题陈述，准备好进行利益相关者对齐。

### 影响估算：证明引导式入职的合理性

**情况：** 提议 $100k 的功能 (4 个工程月)。工程部门怀疑，领导层想要 ROI。

**分析工作流：**
1. `分析 taskflow-usage-data-q4.csv 以计算当前激活率` → 45% 基线
2. 基于调查数据估算提升 (60% 需要示例 → 保守恢复 30% → 13pp 提升)
3. `建立包含基线、预测和业务影响的完整 ROI 模型`
4. `生成悲观、现实和乐观场景`

**结果：** 3 年内 9.4 倍 ROI (现实)，即使在悲观情况下也有 2.6 倍。构建获批。

### 实验分析：揭示隐藏的胜利

**情况：** 顶层显示 45% → 48% (+2.6pp, p=0.04)。团队很失望。

**分析工作流：**
1. 检查顶层 → 适度的 +2.6pp
2. `按 company_size 细分结果` → 小团队：+11.4pp (巨大！)，企业：-3.5pp (负面)
3. `在激活用户中，计算第 1 周留存率` → 治疗组：78% vs 控制组：60%
4. `比较模板使用率和邀请率` → 模板使用率高 3.2 倍，邀请率 35% vs 12%

**结果：** 看起来像是失败的结果其实是目标细分市场的巨大胜利。发布给小团队，排除企业。


## 🎯 最佳实践

### 分析方法

**做：**
- 在构建之前始终用数据验证假设
- 为每个估算创建三个场景 (承认不确定性)
- 按目标客户细分 (顶层可能掩盖胜利)
- 检查质量指标 (留存 > 激活计数)
- 寻找预测长期成功的领先指标
- 交叉引用定量 + 定性数据

**不做：**
- 止步于没有细分的顶层指标
- 使用单点估算 (使用范围和场景)
- 假设 100% 采用 (考虑逐步推出)
- 忽略负面细分 (从发布中排除它们)
- 在检查细分和质量之前终止实验
- 过度优化提升估算 (要保守)

### 提升估算来源

**从好到坏：**
1. **您的历史数据** - 过去的实验是最好的预测器
2. **用户研究** - 调查显示 60% 因 X 而流失 → 修复 X 恢复 Y%
3. **竞争对手基准** - 类似功能的行业标准
4. **专家判断** - 来自工程/设计/PM 的团队估算

### 专业提示

**建立提升估算库**
跟踪每个功能的估算与实际提升。在 5-10 个功能之后，您将更擅长估算。

**把令人失望的消息放在前面**
先展示适度的顶层数据，然后揭示细分市场的胜利。教利益相关者总是深入挖掘。

**自动化分析脚本**
保存用于漏斗分析、细分和 ROI 建模的提示词。跨功能重用。


## 📁 处理 CSV 数据

### 常见数据源

| 平台 | 导出类型 |
|----------|-------------|
| Mixpanel, Amplitude | 使用事件，漏斗 |
| Optimizely, LaunchDarkly | A/B 测试结果 |
| Qualtrics, SurveyMonkey | 调查响应 |
| Google Analytics | 流量/转化数据 |

**Claude Code 可以直接读取 CSV, TSV, 和 JSON。**

### 查看 CSV 文件

**选项：**
- **Excel 或 Google Sheets** - 最适合直观地探索数据
- **VS Code** - 适合查看原始结构
- **让 Claude 读取它** - Claude 以干净的 Markdown 表格格式化数据

**推荐：** 让 Claude 读取并分析 CSV，在格式化表格中呈现结果。仅在需要验证特定数据点时查看原始 CSV。


## 🐛 故障排除

**Claude 无法读取我的 CSV 文件**
- 使用 `ls` 或文件浏览器检查文件路径
- 使用正确的相对路径 (例如 `data/experiment-results.csv`)
- 验证文件扩展名是 `.csv` 而不是 `.CSV` (在某些系统上区分大小写)

**结果与我在 Excel 中看到的不符**
- 让 Claude 一步步展示计算过程
- 验证 Claude 使用的是正确的列
- 问：`解释你是如何从这个 CSV 计算激活率的`

**统计显著性似乎不对**
- 检查样本量：每组需要 ~400+ 用户才能进行可靠的测试
- 记住：`p<0.05` 意味着“这是随机的几率小于 5%”，而不是“5% 误差”
- 宽置信区间 = 高不确定性，即使 `p<0.05`

**细分分析显示冲突结果**
- 这不是 Bug - 这是一个洞察！
- 功能通常对目标细分市场有效，而对其他细分市场无效
- 解决方案：发布给获胜的细分市场，排除失败的细分市场


## 📖 关键术语

| 术语 | 定义 |
|------|------------|
| **激活率 (Activation Rate)** | 完成关键行动的注册用户百分比 |
| **置信区间 (Confidence Interval)** | 真实效应大小的合理值范围 (例如，95% CI: [0.1%, 5.1%]) |
| **漏斗分析 (Funnel Analysis)** | 跟踪用户通过连续步骤以识别流失点 |
| **领先指标 (Leading Indicator)** | 预测未来成功的早期指标 (例如，邀请率预测留存) |
| **提升 (Lift)** | 指标的改善 (例如，激活 45% → 58% = +13pp 提升) |
| **LTV (生命周期价值)** | 从客户整个关系中获得的总收入 |
| **p 值 (p-value)** | 观察到的效应是由于随机机会造成的概率 (`p<0.05` = 统计显著) |
| **ROI (投资回报率)** | 产生的收入或价值除以成本 (例如，9.4 倍 ROI) |
| **细分 (Segment)** | 按共享特征分组的用户子集 (例如，公司规模，角色) |
| **顶层指标 (Topline Metric)** | 细分之前的总体平均指标 |


## 🚀 接下来是什么？

您现在了解了如何使用 Claude Code 作为您的数据分析伙伴来分析漏斗和调查数据，建立带有场景分析的 ROI 模型，以及分析超越顶层指标的 A/B 测试。

**模块 2.3:** 学习 **竞争研究与战略分析** - 使用并行代理进行快速竞争研究并应用战略框架。

交互式轨道：输入 `/start-2-3`


---

**关于本课程**

由 [Carl Vellotti](https://www.linkedin.com/in/carlvellotti/) 创建。如果您对本模块或整个课程有任何反馈，请给我发消息！我正在为 PM 建设者建立一个时事通讯和社区，请查看 [The Full Stack PM](https://fullstackpm.com/subscribe?utm_source=ccforpms&utm_medium=course&utm_campaign=analyze-data)。

**源存储库：** [github.com/carlvellotti/claude-code-pm-course](https://github.com/carlvellotti/claude-code-pm-course)
